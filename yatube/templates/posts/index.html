{% extends 'base.html' %}
{% load cache %}
  <head>
    <title>
      {% block title %}
        {{ title }}
      {% endblock title %}
    </title>
  </head>
  <body>
    <main>
      {% block content %}
        {% include 'includes/switcher.html' %}
        <div class="container py-5">
          {% cache 20 index_page %}
            {% for post in page_obj %}
              {% include 'includes/post_content.html' %}
              {% if not forloop.last %}<hr>{% endif %}
            {% endfor %}
          {% endcache %}
          {% include 'includes/paginator.html' %}
        </div>
      {% endblock content %}
    </main>
  </body>